<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Playtest</title>
    <!-- ä½¿ç”¨å•ä¸€å…¥å£ç‚¹ -->
  <script type="module" crossorigin src="./assets/js/main.BNBQk6Dl.js"></script>
  <link rel="modulepreload" crossorigin href="./assets/js/three.DHARaMpq.js">
  <link rel="modulepreload" crossorigin href="./assets/js/scene.D8BQuaGq.js">
  <link rel="modulepreload" crossorigin href="./assets/js/game.B9syZ_s7.js">
  <link rel="modulepreload" crossorigin href="./assets/js/core.-UKsNjnh.js">
  <link rel="stylesheet" crossorigin href="./assets/css/main.r7ccL812.css">
</head>
<body>
    <!-- æ·»åŠ èƒŒæ™¯éŸ³ä¹ -->
    <audio id="bgm" loop>
        <source src="./audio/bgm.mp3" type="audio/mpeg">
    </audio>

    <div class="pause-overlay">
        <div class="pause-icon">â¸</div>
    </div>

    <div class="background-container">
        <div class="background-image"></div>
    </div>

    <!-- Disclaimer Banner -->
    <div class="sticker disclaimer-sticker">
        <div class="sticker-number">!</div>
        <p class="sticker-text">
            This game is a work of fiction designed for interactive storytelling and educational purposes. It includes fictional murder cases and dialogue involving sensitive topics such as violence, deception, drug use, and psychological manipulation. All characters and events are either products of the creator's imagination or generated by AI, and are not based on real individuals.
            <br><br>
            Some AI characters may lie, deny, or mislead as part of the gameplay. These behaviors are intended to create a challenging detective experience and do not promote or glorify any form of harmful conduct.
            <br><br>
            The game explores logic, evidence analysis, and narrative design, and is not intended to encourage violent or unethical actions. If you find any content distressing, we encourage you to pause or stop playing.
            <br><br>
            This project was created as part of an NYU ITP thesis and is shared for educational and creative exploration.
            <br><br>
            Â© 2025 Ming Li. All rights reserved.
        </p>
        <button class="sticker-button">Got It</button>
    </div>
 
    <!-- ä¾¦æ¢å¤´åƒå’Œåç§° -->
    <div class="detective-container">
        <img id="detective-avatar" src="./images/Me.png" alt="Detective" class="detective-avatar" />
        <button class="detective-switch" id="main-detective-switch">
            <span class="current-detective">Poirot</span>
            <span class="switch-icon">â‡„</span>
            <span class="next-detective">Marple</span>
        </button>
    </div>

    <!-- ä¾¦æ¢å¡ç‰‡ -->
    <div id="detective-card" class="detective-card" style="display: none;">
        <!-- å¡ç‰‡å¤´éƒ¨ -->
        <div class="detective-card-header">
            <div class="detective-header-content">
                <h2 class="detective-name">Hercule Poirot</h2>
                <div class="detective-title">Private Detective</div>
            </div>
            <button class="close-detail">&times;</button>
        </div>

        <!-- å¡ç‰‡ä¸»ä½“ -->
        <div class="detective-card-body">
            <!-- å¤´åƒå’ŒåŸºæœ¬ä¿¡æ¯å®¹å™¨ -->
            <div class="detective-profile-container">
                <div class="detective-avatar-container">
                    <img src="./images/Detective.png" alt="Detective" class="detective-card-avatar" id="detective-profile-img" />
                    <button class="detective-switch" id="detective-switch">
                        <span class="current-detective">Poirot</span>
                        <span class="switch-icon">â‡„</span>
                        <span class="next-detective">Marple</span>
                    </button>
                </div>
                <div class="detective-info-container">
                    <div class="info-section">
                        <h3 id="detective-background-title">Background</h3>
                        <p id="detective-background-text">A former Belgian police officer turned private detective, is known for his sharp intellect, psychological insight, and obsession with order.</p>
                    </div>
                </div>
            </div>

            <!-- æŠ€èƒ½å®¹å™¨ -->
            <div class="detective-skills-container">
                <div class="skill-section">
                    <h3 id="detective-skill-title">Special Ability: Grey Cells</h3>
                    <p id="detective-skill-text">In each game, key evidence marked with grey cells will be randomly triggered.</p>
                </div>
                
                <!-- æŠ€èƒ½ç‚¹æ•°å®¹å™¨ -->
                <div class="skill-points-container">
                    <h3>Attributes</h3>
                    <div class="skill-points">
                        <div class="skill-point">
                            <span class="skill-label">Lab Points:</span>
                            <span id="lab-point" class="skill-value">10</span>
                        </div>
                        <div class="skill-point">
                            <span class="skill-label">Tech Points:</span>
                            <span id="tech-point" class="skill-value">6</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- è®¡æ—¶å™¨ -->
    <div class="timer-container" id="reset">
        <div class="timer-display">
            <div id="timer">00:00:00</div>
            <div id="mission" class="mission-timer-wrapper">
                <span class="timer-label">POST-INCIDENT</span>
                <div id="mission-timer">00:00:00</div>
            </div>
        </div>
        <div class="timer-controls">
            <button id="pause-button" class="timer-button">
                <span class="timer-button-icon">â¸</span>
            </button>
            <button id="reset-button" class="timer-button">
                <span class="timer-button-icon">â†º</span>
            </button>
            <button id="music-toggle" class="timer-button">
                <span class="timer-button-icon music-icon">ğŸ”Š</span>
            </button>
        </div>
    </div>

    <!-- åº•éƒ¨æŒ‰é’® -->
    <div class="button-container">
        <button id="evidence" class="game-button">Evidence</button>
        <button id="questioning" class="game-button">Questioning</button>
        <button id="events" class="game-button" style="position: relative;">Events</button>
        <button id="conclusion" class="game-button conclusion-button" style="background: #b10f0f;">Conclusion</button>
    </div>

    <!-- ç‚¹æ•°æ˜¾ç¤ºå®¹å™¨ -->
    <div class="points-display">
        <div class="points-container">
            <div class="points-icon">
                <img src="./images/Lab.png" alt="Lab" style="width: 60px; height: 60px; margin: 10px;">
            </div>
            <div class="points-info">
                <div class="points-label">Lab Points</div>
                <div class="points-value" id="main-lab-points">5</div>
            </div>
        </div>
        <div class="points-container">
            <div class="points-icon">
                <img src="./images/Tech.png" alt="Tech" style="width: 60px; height: 60px; margin: 10px;">
            </div>
            <div class="points-info">
                <div class="points-label">Tech Points</div>
                <div class="points-value" id="main-tech-points">3</div>
            </div>
        </div>
    </div>

    <!-- åœºæ™¯æŒ‰é’® -->
    <div class="scene-buttons">
        <button id="scene1-btn">Living Room</button>
        <button id="scene2-btn">Mark's Room</button>
        <button id="scene3-btn">John's Room</button>
        <button id="scene4-btn">Amy's Room</button>
        <button id="scene5-btn">Linna's Room</button>
        <!-- Add Scene Menu Toggle Button for mobile -->
        <button id="scenes-menu-btn" class="scene-menu-toggle">Scenes</button>
        <!-- Dropdown menu for mobile -->
        <div id="scenes-dropdown">
            <button id="mobile-scene1-btn">Living Room</button>
            <button id="mobile-scene2-btn">Mark's Room</button>
            <button id="mobile-scene3-btn">John's Room</button>
            <button id="mobile-scene4-btn">Amy's Room</button>
            <button id="mobile-scene5-btn">Linna's Room</button>
        </div>
    </div>
    
    <!-- è®¡æ—¶å™¨é‡ç½®ç¡®è®¤æ¡† -->
    <div id="timer-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Reset Timer</h2>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to reset the Game?<br>Your inquiry records and evidence will disappear.</p>
                <div class="button2-container">
                    <button id="timer-yes" style="background-color: #2e2e2e3a; color: white;">Yes</button>
                    <button id="timer-no" style="background-color: #491915; color: white;">No</button>
                </div>
            </div>
        </div>
    </div>

    <!-- é€šç”¨æ¨¡æ€æ¡† -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modal-title"></h2>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body" id="modal-body">
                <!-- Content will be injected here -->
            </div>
        </div>
    </div>
    
    <!-- åœ¨DOMåŠ è½½åç­‰å¾…ç”¨æˆ·ç‚¹å‡»åˆ‡æ¢åˆ°scene0.5.pngå›¾ç‰‡ -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // ç­‰å¾…ä¸€æ®µæ—¶é—´åç¡®ä¿gameTimerå·²åˆå§‹åŒ–
            setTimeout(function() {
                if (window.gameTimer) {
                    // æ·»åŠ ç‚¹å‡»äº‹ä»¶ç›‘å¬å™¨åˆ°èƒŒæ™¯å›¾ç‰‡
                    const bgImage = document.querySelector('.background-image');
                    if (bgImage) {
                        bgImage.addEventListener('click', function() {
                            // åªåœ¨å½“å‰æ˜¯introåœºæ™¯æ—¶åˆ‡æ¢åˆ°transitionåœºæ™¯
                            if (window.gameTimer.currentScene === window.gameTimer.SCENE_INTRO) {
                                window.gameTimer.switchToScene(window.gameTimer.SCENE_TRANSITION);
                                console.log("å·²åˆ‡æ¢åˆ°è¿‡æ¸¡åœºæ™¯");
                            }
                        });
                    }
                } else {
                    console.error("gameTimeræœªåˆå§‹åŒ–ï¼Œæ— æ³•åˆ‡æ¢åœºæ™¯");
                }
            }, 1000); // ç­‰å¾…1ç§’ç¡®ä¿æ‰€æœ‰è„šæœ¬åŠ è½½å®Œæˆ
        });
    </script>
    
    <!-- æ·»åŠ æ‹–æ‹½æç¤ºå…ƒç´  -->
    <div class="drag-hint">Drag to investigate the scene</div>
</body>
</html>
